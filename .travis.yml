language: node_js
node_js: 8
cache:
  yarn: true
  directories:
  - node_modules
  - "${NVM_PATH}_modules"
install:
- yarn
- cd functions && yarn && cd ..
script:
- yarn lint
- echo "Building..."
- if [ "$TRAVIS_BRANCH" == "master" ]; then yarn build:prod; fi
before_deploy:
- echo "Deploying!"
deploy:
- provider: firebase
  skip_cleanup: true
  on:
    branch: master
  project: devfest2018-6e03a
  token:
    secure: OVXN8BKgS8ipNh+B80AfHaBjjGudhF9IaIIc/XLpJ1kqYaRoyXdao+QJmDNJXZL8TFPq3K1OSlICunIBJNP5pjz/XQCUFOSDmf2FgEzgGGCnyVszj252iINRBkRZFYL18FobT1IXGi3L1iRs9ji7OENNJnwP2IN/JUJC0X8Xk/PsUWbezn6EyKKdonrPAGOUrOVHsDNqeS2R65fvYlwA0r9wrOaJopIhMeT+xMvDwXaCi8IzVKZ/wuhIwlv/yZQex1TEARDk9QGqJrMRww1AzOP6su1XgsXra9kV6AgUACO6tIlsuanepbKtnNSaV9D79267hGgdOCIJCVHzRseO+2tY4EMfHC9STqLeHwWhBcdDkm8UDBnDLHxfzuMDmihS5xtniBlPkFKBb8cah16DW/D8x+K/4d2LiMpVKctcSFgOUzTgN69ysPQsvXj5gorsH1asjtdeelqF8Ww4LTycj8k9fjPrIq9oLZBnkDy0j02VqlyOWR7cdDTkSDZ5QfOyls6popeHd8evg5khzu80obWnRnfEHAw7csYYEfT3a3aCH7VkTIIi/41rsep8lxuoPe40Z3IFOPxPRhlRWueoQ7ATVZmYtvG1vi9OZsPGFl6eXz7sEaCBnRLh5sLU/KgmX5FYsOr9t+ftHG1YbGKUavDGrPqSJ9RVZP2dM2my+NY=